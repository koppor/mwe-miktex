\documentclass[peerreview,a4paper,english]{IEEEtran}[2015/08/26]
\usepackage{upquote}
\usepackage[ngerman,main=english]{babel}
\addto\extrasenglish{\languageshorthands{ngerman}\useshorthands{"}}
\usepackage[hyphens]{url}
\makeatletter
\g@addto@macro{\UrlBreaks}{\UrlOrds}
\makeatother
\usepackage[zerostyle=b,scaled=.75]{newtxtt}
\usepackage[T1]{fontenc}
\usepackage[
  babel=true, % Enable language-specific kerning. Take language-settings from the languge of the current document (see Section 6 of microtype.pdf)
  expansion=alltext,
  protrusion=alltext-nott, % Ensure that at listings, there is no change at the margin of the listing
  final % Always enable microtype, even if in draft mode. This helps finding bad boxes quickly.
        % In the standard configuration, this template is always in the final mode, so this option only makes a difference if "pros" use the draft mode
]{microtype}
\DisableLigatures{encoding = T1, family = tt* }
\usepackage{graphicx}
\usepackage{diagbox}
\usepackage{xcolor}
\usepackage{listings}
\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{numb}{magenta!60!black}
\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    commentstyle=\color{eclipseStrings}, % style of comment
    stringstyle=\color{eclipseKeywords}, % style of strings
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    % backgroundcolor=\color{gray}, %only if you like
    string=[s]{"}{"},
    comment=[l]{:\ "},
    morecomment=[l]{:"},
    literate=
        *{0}{{{\color{numb}0}}}{1}
         {1}{{{\color{numb}1}}}{1}
         {2}{{{\color{numb}2}}}{1}
         {3}{{{\color{numb}3}}}{1}
         {4}{{{\color{numb}4}}}{1}
         {5}{{{\color{numb}5}}}{1}
         {6}{{{\color{numb}6}}}{1}
         {7}{{{\color{numb}7}}}{1}
         {8}{{{\color{numb}8}}}{1}
         {9}{{{\color{numb}9}}}{1}
}
\lstset{
  % everything between (* *) is a latex command
  escapeinside={(*}{*)},
  %
  language=json,
  %
  showstringspaces=false,
  %
  extendedchars=true,
  %
  basicstyle=\footnotesize\ttfamily,
  %
  commentstyle=\slshape,
  %
  % default: \rmfamily
  stringstyle=\ttfamily,
  %
  breaklines=true,
  %
  breakatwhitespace=true,
  %
  % alternative: fixed
  columns=flexible,
  %
  numbers=left,
  %
  numberstyle=\tiny,
  %
  basewidth=.5em,
  %
  xleftmargin=.5cm,
  %
  % aboveskip=0mm,
  %
  % belowskip=0mm,
  %
  captionpos=b
}
\lstset{literate=
  {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {Ã}{{\~A}}1 {ã}{{\~a}}1 {Õ}{{\~O}}1 {õ}{{\~o}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
}
\usepackage[autostyle=true]{csquotes}
\defineshorthand{"`}{\openautoquote}
\defineshorthand{"'}{\closeautoquote}
\usepackage{booktabs}
\usepackage{paralist}
\usepackage[%
  square,        % for square brackets
  comma,         % use commas as separators
  numbers,       % for numerical citations;
  %sort           % orders multiple citations into the sequence in which they appear in the list of references;
  sort&compress % as sort but in addition multiple numerical citations
                  % are compressed if possible (as 3-6, 15);
]{natbib}
\renewcommand{\bibfont}{\normalfont\footnotesize}
\usepackage{etoolbox}
\makeatletter
\patchcmd{\NAT@test}{\else \NAT@nm}{\else \NAT@hyper@{\NAT@nm}}{}{}
\makeatother
\usepackage{pdfcomment}
\newcommand{\commentontext}[2]{\colorbox{yellow!60}{#1}\pdfcomment[color={0.234 0.867 0.211},hoffset=-6pt,voffset=10pt,opacity=0.5]{#2}}
\newcommand{\commentatside}[1]{\pdfcomment[color={0.045 0.278 0.643},icon=Note]{#1}}
\newcommand{\todo}[1]{\commentatside{#1}}
\newcommand{\TODO}[1]{\commentatside{#1}}
\usepackage{stfloats}
\fnbelowfloat
\usepackage[group-minimum-digits=4,per-mode=fraction]{siunitx}
\usepackage{hyperref}
\hypersetup{
  hidelinks,
  colorlinks=true,
  allcolors=black,
  pdfstartview=Fit,
  breaklinks=true
}
\usepackage[all]{hypcap}
\usepackage[caption=false,font=footnotesize]{subfig}
\usepackage[incolumn]{mindflow}
\usepackage[capitalise,nameinlink,noabbrev]{cleveref}
\crefname{listing}{Listing}{Listings}
\Crefname{listing}{Listing}{Listings}
\crefname{lstlisting}{Listing}{Listings}
\Crefname{lstlisting}{Listing}{Listings}
\usepackage{lipsum}
\usepackage[math]{blindtext}
\usepackage{mwe}
\usepackage[realmainfile]{currfile}
\usepackage{tcolorbox}
\tcbuselibrary{listings}
\DeclareFontFamily{U}{MnSymbolC}{}
\DeclareSymbolFont{MnSyC}{U}{MnSymbolC}{m}{n}
\DeclareFontShape{U}{MnSymbolC}{m}{n}{
  <-6>    MnSymbolC5
  <6-7>   MnSymbolC6
  <7-8>   MnSymbolC7
  <8-9>   MnSymbolC8
  <9-10>  MnSymbolC9
  <10-12> MnSymbolC10
  <12->   MnSymbolC12%
}{}
\DeclareMathSymbol{\powerset}{\mathord}{MnSyC}{180}
\usepackage{xspace}
\newcommand{\eg}{e.\,g.,\ }
\newcommand{\ie}{i.\,e.,\ }
\makeatletter
\newcommand{\hydash}{\penalty\@M-\hskip\z@skip}
\makeatother
\hyphenation{op-tical net-works semi-conduc-tor}
\input glyphtounicode
\pdfgentounicode=1
\begin{document}
\newcount\LTGbeginlineexample
\newcount\LTGendlineexample
\newenvironment{ltgexample}%
{\LTGbeginlineexample=\numexpr\inputlineno+1\relax}%
{\LTGendlineexample=\numexpr\inputlineno-1\relax%
\tcbinputlisting{%
  listing only,
  listing file=\currfilepath,
  colback=green!5!white,
  colframe=green!25,
  coltitle=black!90,
  coltext=black!90,
  left=8mm,
  title=Corresponding \LaTeX{} code of \texttt{\currfilepath},
  listing options={%
    frame=none,
    language={[LaTeX]TeX},
    escapeinside={},
    firstline=\the\LTGbeginlineexample,
    lastline=\the\LTGendlineexample,
    firstnumber=\the\LTGbeginlineexample,
    basewidth=.5em,
    aboveskip=0mm,
    belowskip=0mm,
    numbers=left,
    xleftmargin=0mm,
    numberstyle=\tiny,
    numbersep=8pt%
  }
}
}%
\subsection{Figures}
\begin{ltgexample}
\Cref{fig:label} shows something interesting.
\begin{figure}
  \centering
  \includegraphics[width=.8\linewidth]{example-image-golden}
  \caption[Simple Figure]{Simple Figure. Based on \citet{mwe}.}
  \label{fig:label}
\end{figure}
\end{ltgexample}
One can span a figure across multiple columns by using \verb+\begin{figure*}+.
See \cref{fig:16x9} as an example.
\begin{ltgexample}
\begin{figure*}
  \centering
  % note that \textwidth is used instead of \linewidth
  % This ensures that the graphics width is 60% of the "page" (text block), and not just 60% of the current text column
  % See https://tex.stackexchange.com/a/17085/9075 for details
  \includegraphics[width=.6\textwidth]{example-image-16x9}
  \caption{16x9 Figure}
  \label{fig:16x9}
\end{figure*}
\end{ltgexample}
\subsection{Sub Figures}
An example of two sub figures is shown in \cref{fig:two_sub_figures}.
\begin{ltgexample}
\begin{figure*}[!b]
    \centering
    \subfloat[Case I]{\includegraphics[width=.4\linewidth]{example-image-a}%
    \label{fig:first_case}}
  \hfil
    \subfloat[Case II]{\includegraphics[width=.4\linewidth]{example-image-b}%
    \label{fig:second_case}}
  \caption{Example figure with two sub figures.}
  \label{fig:two_sub_figures}
\end{figure*}
\end{ltgexample}
\subsection{Tables}
Note that IEEE does not support \verb+\begin{table}+, one has to use \verb+\begin{figure}+.
\begin{ltgexample}
\begin{figure}
  \caption{Simple Table}
  \label{tab:simple}
  \centering
  \begin{tabular}{ll}
    \toprule
    Heading1 & Heading2 \\
    \midrule
    One      & Two      \\
    Thee     & Four     \\
    \bottomrule
  \end{tabular}
\end{figure}
\end{ltgexample}
\begin{ltgexample}
\begin{figure}
\caption{Table with diagonal line}
\label{tab:diag}
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
\diagbox[width=10em]{Diag\\Column Head I}{Diag Column\\Head II} & Second & Third \\
\hline
& foo & bar \\
\hline
\end{tabular}
\end{center}
\end{figure}
\end{ltgexample}
\subsection{Source Code}
\begin{ltgexample}
\Cref{lst:XML} shows source code written in XML.
\Cref{line:comment} contains a comment.
\begin{lstlisting}[
  language=XML,
  caption={Example XML Listing},
  label={lst:XML}]
<listing name="example">
  <!-- comment --> (* \label{line:comment} *)
  <content>not interesting</content>
</listing>
\end{lstlisting}
\end{ltgexample}
One can also add \verb+float+ as parameter to have the listing floating.
\Cref{lst:flXML} shows the floating listing.
\begin{ltgexample}
\begin{lstlisting}[
  % one can adjust spacing here if required
  % aboveskip=2.5\baselineskip,
  % belowskip=-.8\baselineskip,
  float,
  language=XML,
  caption={Example XML listing -- placed as floating figure},
  label={lst:flXML}]
<listing name="example">
  Floating
</listing>
\end{lstlisting}
\end{ltgexample}
One can also typeset JSON as shown in \cref{lst:json}.
\begin{ltgexample}
\begin{lstlisting}[
  float,
  language=json,
  caption={Example JSON listing -- placed as floating figure},
  label={lst:json}]
{
  key: "value"
}
\end{lstlisting}
\end{ltgexample}
Java is also possible as shown in \cref{lst:java}.
\begin{ltgexample}
\begin{lstlisting}[
  caption={Example Java listing},
  label=lst:java,
  language=Java,
  float]
public class Hello {
    public static void main (String[] args) {
        System.out.println("Hello World!");
    }
}
\end{lstlisting}
\end{ltgexample}
\subsection{Itemization}
One can list items as follows:
\begin{ltgexample}
\begin{itemize}
\item Item One
\item Item Two
\end{itemize}
\end{ltgexample}
With the package paralist, one can create itemizations with lesser spacing:
\begin{ltgexample}
\begin{compactitem}
\item Item One
\item Item Two
\end{compactitem}
\end{ltgexample}
One can enumerate items as follows:
\begin{ltgexample}
\begin{enumerate}
  \item Item One
  \item Item Two
\end{enumerate}
\end{ltgexample}
With the package paralist, one can create enumerations with lesser spacing:
\begin{ltgexample}
\begin{compactenum}
  \item Item One
  \item Item Two
\end{compactenum}
\end{ltgexample}
With paralist, one can even have all items typset after each other and have them clean in the tex document:
\begin{ltgexample}
\begin{inparaenum}
  \item All these items...
  \item ...appear in one line
  \item This is enabled by the paralist package.
\end{inparaenum}
\end{ltgexample}
\subsection{Other Features}
\begin{ltgexample}
The words \enquote{workflow} and \enquote{dwarflike} can be copied from the PDF and pasted to a text file.
\end{ltgexample}
\begin{ltgexample}
The symbol for powerset is now correct: $\powerset$ and not a Weierstrass p ($\wp$).
$\powerset({1,2,3})$
\end{ltgexample}
\begin{ltgexample}
Brackets work as designed:
<test>
One can also input backquotes in verbatim text: \verb|`test`|.
\end{ltgexample}
\end{document}
